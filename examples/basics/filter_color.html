<div id="map" style="height: 100%; width: 100%"></div>

<script src="../../dist/gridviz.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gridviz-eurostat@2.0.2"></script>
<script>
    //define map with initial view
    const map = new gridviz.Map(document.getElementById('map'), {
        x: 4500000,
        y: 2900000,
        z: 1000,
    }).addZoomButtons()

    //define background layers
    const filterColor = z => "#fff2"
    const filterBlendOperation = z => "multiply"
    const backgroundLayer1 = new gridviz.BackgroundLayer({
        url: 'https://raw.githubusercontent.com/jgaffuri/mbxyz/main/pub/elevation_shading/',
        resolutions: Array.from({ length: 9 }, (_, i) => 28.00132289714475 * Math.pow(2, 10 - i)),
        origin: [0, 6000000],
        visible: (z) => z > 25,
        filterColor: filterColor,
        filterBlendOperation: filterBlendOperation,
    })
    const backgroundLayer2 = new gridviz.BackgroundLayer(
        gridviz_eurostat.giscoBackgroundLayer('OSMPositronBackground', 18, 'EPSG3035', {
            visible: (z) => z <= 25,
            //filterColor: filterColor,
            //filterBlendOperation: filterBlendOperation,
        })
    )

    //add layer to map
    map.layers = [backgroundLayer1, backgroundLayer2]
    map.redraw()
</script>
