<!DOCTYPE html>
<html lang="en" style="height: 100%">

<head>
    <meta name="viewport" content="maximum-scale=1.0, user-scalable=no" />
    <title>Gridviz - Shape/color/size style</title>
</head>

<body style="margin: 0; height: 100%; font-family: Arial, Helvetica, sans-serif; overflow: hidden">
    <div id="viz-container" style="height: 100%; width: 100%"></div>

    <script src="../../dist/gridviz.js"></script>
    <script>
        let containerDiv = document.getElementById('viz-container')

        const map = new gridviz.Map(containerDiv)
            .setGeoCenter({ x: 0, y: 0 })
            .setZoom(0.01)

        const cells = [], nb = 15
        for (let x = 0; x < nb; x++) {
            cells.push({ x: x, y: 0, v: x / (nb-1) * 100 })
            cells.push({ x: x, y: 2, v: x / (nb-1) * 100 })
        }

        map.addLayer(
            map.makeLGridDataset(1, cells
            ),
            [
                new gridviz.NinjaStarStyle({
                    color: () => 'black',
                    sizeCol: 'v',
                    size: (v, r, s, z) => v / 100,
                    shape: (c)=> c.y==0?"p":"o"
                }),
            ],
            {
                cellInfoHTML: (c) => c.v + "%",
            }
        )
    </script>
</body>

</html>